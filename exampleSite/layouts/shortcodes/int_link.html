{{- $context := . -}}
{{- $val := .Get "val" -}}
{{- $link := .Get "link" -}}

{{- range union .Site.RegularPages .Site.Sections -}}
  {{- if not (hasSuffix $link "/") -}}
    {{- $link = print $link "/" -}}
  {{- end -}}
  {{- if hasSuffix .RelPermalink $link -}}
     <a href="{{- $link -}}" class="internal"><span>{{- $val -}}</span></a>
  {{- end -}}
{{- end -}}